webpackJsonp([49],{"41Zg":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("Dd8w"),n=e.n(o),s=e("NYxO"),h=e("QLyc"),a=e("BMSc"),r=e("AkSr"),l={data:function(){return{renderer:"",scene:"",camera:"",stats:"",lightBox:"",helperBox:"",objBox:{stage:"",box:"",sphere:""},clock:"",orbitControls:"",animationFrame:"",gui:"",guiParam:""}},methods:n()({init:function(){this.initRender(),this.initScene(),this.initClock(),this.initCamera(),this.initObj(),this.initLight(),this.initHelper(),this.initStats(),this.initOrbitControls(),this.initGui(),this.updateRenderer()},initRender:function(){this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.$refs["three-canvas"].appendChild(this.renderer.domElement),this.renderer.setClearColor("rgb(15, 1, 25)")},initScene:function(){this.scene=new THREE.Scene},initClock:function(){this.clock=new THREE.Clock},initLight:function(){this.lightBox={pointLight:new THREE.PointLight("rgb(255, 255, 255)",3,400,.5)},this.lightBox.pointLight.castShadow=!1,this.scene.add(this.lightBox.pointLight)},initCamera:function(){this.camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.x=200,this.camera.position.y=100,this.camera.position.z=200,this.camera.up.x=0,this.camera.up.y=1,this.camera.up.z=0,this.camera.lookAt(new THREE.Vector3(0,0,0))},initObj:function(){var t=new THREE.BoxGeometry(500,10,500,4,4),i=new THREE.MeshStandardMaterial({color:"rgb(45, 0, 50)",roughness:0,metalness:0});this.objBox.stage=new THREE.Mesh(t,i),this.objBox.stage.castShadow=!0,this.objBox.stage.receiveShadow=!0,this.objBox.stage.position.set(0,5,0),this.scene.add(this.objBox.stage),t=new THREE.SphereGeometry(20,20,80,6),i=new THREE.MeshBasicMaterial({color:this.lightBox.spotLight.color.getHex()}),this.objBox.sphere=new THREE.Mesh(t,i),this.lightBox.spotLight.add(this.objBox.sphere),t=new THREE.BoxGeometry(50,50,50,4,4),i=new THREE.LineBasicMaterial({color:"rgb(230, 230, 230)"}),this.objBox.box=new THREE.Mesh(t,i),this.objBox.box.castShadow=!0,this.objBox.box.receiveShadow=!0,this.objBox.box.position.set(0,30,0),this.scene.add(this.objBox.box)},initHelper:function(){this.helperBox={axesHelper:{helper:new THREE.AxesHelper(1e4)},gridHelper:{helper:new THREE.GridHelper(1500,30,"white","rgb(150, 150, 150)")},pointLightHelper:{helper:new THREE.PointLightHelper(this.lightBox.pointLight,200)}},this.scene.add(this.helperBox.pointLightHelper.helper)},initStats:function(){this.stats=new h.a,this.stats.setMode(0),this.stats.domElement.id="three-stats",this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="unset",this.stats.domElement.style.right="300px",this.stats.domElement.style.top="0px",document.body.appendChild(this.stats.domElement)},initOrbitControls:function(){this.orbitControls=new a.a(this.camera,this.renderer.domElement),this.orbitControls.autoRotate=!0},initGui:function(){var t=this;this.gui=new r.a,this.guiParam={autoCamera:this.orbitControls.autoRotate,castShadow:this.lightBox.pointLight.castShadow,color:this.lightBox.pointLight.color.getHex(),intensity:this.lightBox.pointLight.intensity,distance:this.lightBox.pointLight.distance,decay:this.lightBox.pointLight.decay,positionX:this.lightBox.pointLight.position.x,positionY:this.lightBox.pointLight.position.y,positionZ:this.lightBox.pointLight.position.z};var i=this.gui.addFolder("Camera setting");i.add(this.guiParam,"autoCamera").onChange(function(i){t.orbitControls.autoRotate=i}),i.open();var e=this.gui.addFolder("Light setting");e.add(this.guiParam,"castShadow").onChange(function(i){t.lightBox.pointLight.castShadow=i}),e.addColor(this.guiParam,"color",-500,500).onChange(function(i){t.lightBox.pointLight.color.setHex(i),t.helperBox.pointLight.helper.update()}),e.add(this.guiParam,"intensity",0,10).onChange(function(i){t.lightBox.pointLight.intensity=i,t.helperBox.pointLight.helper.update()}),e.add(this.guiParam,"distance",0,600).onChange(function(i){t.lightBox.pointLight.distance=i,t.helperBox.pointLight.helper.update()}),e.add(this.guiParam,"decay",0,5).onChange(function(i){t.lightBox.pointLight.decay=i,t.helperBox.pointLight.helper.update()}),e.add(this.guiParam,"positionX",-500,500).onChange(function(i){t.lightBox.pointLight.position.x=i}),e.add(this.guiParam,"positionY",-500,500).onChange(function(i){t.lightBox.pointLight.position.y=i}),e.add(this.guiParam,"positionZ",-500,500).onChange(function(i){t.lightBox.pointLight.position.x=i}),e.open()},animation:function(){var t=.001*Date.now();this.lightBox.spotLight.position.x=300*-Math.cos(t),this.lightBox.spotLight.position.z=300*Math.sin(t),this.helperBox.spotLightHelper.helper.update()},updateRenderer:function(){var t=this.clock.getDelta();this.orbitControls.update(t),this.animation(),this.renderer.render(this.scene,this.camera),this.stats.update(),this.animationFrame=requestAnimationFrame(this.updateRenderer)},clearObjCache:function(t){t.geometry.dispose(),t.material.dispose()},clearCache:function(){this.renderer.clear(!0,!0,!0),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer.domElement=null,this.clearObjCache(this.objBox.stage),this.clearObjCache(this.objBox.box),this.scene.dispose(),this.helperBox.spotLightHelper.helper.dispose(),this.gui.destroy()}},Object(s.b)(["resetThreeTipsFun","resetThreeLinkFun"])),created:function(){this.resetThreeTipsFun("    旋转相机：鼠标左键\n    缩放场景：鼠标滚轮\n    移动相机：鼠标右键 "),this.resetThreeLinkFun("material/usageMaterial.vue")},mounted:function(){this.init()},beforeDestroy:function(){document.body.removeChild(document.getElementById("three-stats")),this.clearCache(),this.renderer=null,this.scene=null,this.camera=null,this.stats=null,this.lightBox=null,this.helperBox=null,this.clock=null,this.gui=null,cancelAnimationFrame(this.animationFrame)}},d={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"three-display three-init"},[i("div",{ref:"three-canvas",staticClass:"three-canvas",attrs:{id:"three-canvas"}})])},staticRenderFns:[]};var c=e("VU/8")(l,d,!1,function(t){e("mIai")},"data-v-2b4f2e09",null);i.default=c.exports},mIai:function(t,i){}});